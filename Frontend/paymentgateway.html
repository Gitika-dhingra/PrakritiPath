<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicine Payment - PrakritiPath</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Colors from the provided table */
            --light-rose-gold: #F3E5F5;
            --medium-rose-gold: #D9A7C7;
            --dark-rose-gold: #B76E79;
            --light-tangerine: #FDBA74;
            --deep-orange: #DD6B20;
            --soft-peach: #FFF7ED;
            --standard-gold: #D4AF37;
            --light-gold: #E8C15E;
            --light-cool-gray: #f3f4f6;
            --light-gray: #e5e7eb;
            --medium-gray: #d1d5db;
            --dark-gray: #9ca3af;
            --dark-slate: #1f2937;
            --light-slate: #475569;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(-45deg, var(--light-gray), var(--medium-gray), var(--dark-gray));
            background-size: 600% 600%;
            animation: liveGradient 25s ease infinite;
            color: var(--dark-slate);
        }

        @keyframes liveGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        header {
            background: var(--light-slate);
            color: var(--light-rose-gold);
            padding: 15px 40px;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            letter-spacing: 1px;
            border-bottom: 6px solid var(--standard-gold);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Cinzel Decorative', serif;
        }

        .back-btn {
            position: absolute;
            left: 40px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--standard-gold);
            color: var(--dark-slate);
            padding: 8px 16px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .back-btn:hover {
            background: var(--light-gold);
            color: var(--dark-slate);
        }

        .container {
            max-width: 900px;
            margin: 40px auto;
            background: var(--soft-peach);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0px 8px 20px rgba(0,0,0,0.1);
            border: 3px solid var(--medium-rose-gold);
        }

        h2 {
            color: var(--dark-rose-gold);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--medium-rose-gold);
            padding-bottom: 5px;
            font-family: 'Cinzel Decorative', serif;
        }
        
        h3 {
            color: var(--dark-slate);
            margin-bottom: 10px;
            font-family: 'Cinzel Decorative', serif;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 25px;
        }

        table th, table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--light-rose-gold);
            font-size: 15px;
        }

        table th {
            background: var(--light-rose-gold);
            color: var(--dark-slate);
        }
        
        .quantity-input {
            width: 60px;
            padding: 4px;
            text-align: center;
            border: 1px solid var(--medium-rose-gold);
            border-radius: 5px;
        }

        .total {
            text-align: right;
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
            color: var(--dark-rose-gold);
        }

        .payment-options, .address-form, .reorder-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--medium-rose-gold);
        }

        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: 600;
            color: var(--dark-slate);
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--medium-rose-gold);
            margin-bottom: 15px;
            font-size: 15px;
            background: var(--soft-peach);
            color: var(--dark-slate);
            box-sizing: border-box; /* Ensures padding doesn't affect width */
        }

        .reorder-section button, .previous-orders-btn {
            background: var(--dark-rose-gold);
            color: white;
            font-weight: bold;
            padding: 10px 16px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            width: auto;
        }

        .reorder-section button:hover, .previous-orders-btn:hover {
            background: var(--standard-gold);
            color: var(--dark-slate);
            transform: scale(1.05);
        }
        
        .previous-orders-btn-container {
            text-align: center;
            margin-bottom: 25px;
        }

        button.primary-btn {
            width: 100%;
            padding: 14px;
            font-size: 16px;
            border-radius: 10px;
        }

        .reorder-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light-rose-gold);
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>

    <header>
        Medicine Payment
        <a href="Userdashboard.html" id="backButton" class="back-btn">← Back</a>
    </header>

    <div class="container">

        <div class="previous-orders-btn-container">
            <button class="previous-orders-btn" onclick="showPreviousOrders()">View Previous Orders</button>
        </div>

        <div class="order-section">
            <h2>Select Medicines</h2>
            <form id="orderForm">
                <table>
                    <thead>
                        <tr>
                            <th>Medicine</th>
                            <th>Price (₹)</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody id="medicineList">
                        <tr data-price="350">
                            <td>Ashwagandha Tablets</td>
                            <td>₹350</td>
                            <td><input type="number" value="0" min="0" class="quantity-input" onchange="updateTotal()"></td>
                        </tr>
                        <tr data-price="400">
                            <td>Triphala Powder</td>
                            <td>₹400</td>
                            <td><input type="number" value="0" min="0" class="quantity-input" onchange="updateTotal()"></td>
                        </tr>
                        <tr data-price="300">
                            <td>Chyawanprash</td>
                            <td>₹300</td>
                            <td><input type="number" value="0" min="0" class="quantity-input" onchange="updateTotal()"></td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <div class="total">Total Amount: ₹<span id="totalAmount">0</span></div>
        </div>

        <div class="address-form">
            <h2>Delivery Address</h2>
            <form id="addressForm">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" placeholder="Enter your full name" required>
                
                <label for="address">Address</label>
                <textarea id="address" rows="3" placeholder="Enter your full address" required></textarea>
                
                <label for="pincode">Pincode</label>
                <input type="text" id="pincode" placeholder="Enter pincode" required>
            </form>
        </div>

        <div class="payment-options">
            <h2>Payment Details</h2>
            <form id="paymentForm">
                <label for="payment-method">Select Payment Method</label>
                <select id="payment-method">
                    <option>Credit/Debit Card</option>
                    <option>UPI</option>
                    <option>Net Banking</option>
                    <option>Cash on Delivery</option>
                </select>

                <label for="card-number">Card Number</label>
                <input type="text" id="card-number" placeholder="1234 5678 9012 3456">

                <label for="expiry">Expiry Date</label>
                <input type="month" id="expiry">

                <label for="cvv">CVV</label>
                <input type="password" id="cvv" placeholder="***">

                <button id="payButton" class="primary-btn reorder-section button">Pay ₹0</button>
            </form>
        </div>
    </div>

<script>
// All JavaScript is wrapped in DOMContentLoaded to ensure the page is loaded first.
document.addEventListener('DOMContentLoaded', () => {
    const medicineList = document.getElementById('medicineList');
    const totalAmountSpan = document.getElementById('totalAmount');
    const payButton = document.getElementById('payButton');

    // This function calculates the total price based on item quantities.
    // It's defined on the global 'window' object so the 'onchange' attributes in the HTML can find it.
    window.updateTotal = function() {
        let total = 0;
        const items = medicineList.querySelectorAll('tr');
        items.forEach(item => {
            const price = parseFloat(item.dataset.price);
            const quantity = parseInt(item.querySelector('.quantity-input').value, 10);
            if (!isNaN(price) && !isNaN(quantity) && quantity > 0) {
                total += price * quantity;
            }
        });
        totalAmountSpan.textContent = total;
        // CORRECTED LINE: Uses backticks (`) for the template literal.
        payButton.textContent = `Pay ₹${total}`;
    }

    // Placeholder function for the "View Previous Orders" button.
    // It's also assigned to the 'window' object for the 'onclick' attribute.
    window.showPreviousOrders = function() {
        alert("Redirecting to your order history...");
        // In a real application, you would redirect to a dedicated order history page.
        // For example: window.location.href = "orderhistory.html";
    }

    // Event listener for the back button.
    document.getElementById("backButton").addEventListener("click", function(e){
        e.preventDefault();
        window.location.href = "userdashboard.html"; // Make sure this page exists in your project.
    });

    // Event listener for the payment form submission.
    document.getElementById("paymentForm").addEventListener("submit", function(e) {
        e.preventDefault();
        alert('Payment processing...');
        // In a real application, you would handle payment processing here.
    });
    
    // Call updateTotal once on page load to initialize the total.
    updateTotal();
});
</script>

</body>
</html>